/* eslint-disable */
!function(){"use strict";function t(){}var e=t=>t;function a(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(a)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}var i="undefined"!=typeof window,o=i?()=>window.performance.now():()=>Date.now(),c=i?t=>requestAnimationFrame(t):t,d=new Set;function p(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&c(p)}function u(t,e){t.appendChild(e)}function m(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function h(t){var e=b("style");return function(t,e){u(t.head||t,e)}(m(t),e),e.sheet}function g(t,e,a){t.insertBefore(e,a||null)}function v(t){t.parentNode.removeChild(t)}function f(t,e){for(var a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function b(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function y(){return w("")}function x(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function $(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function M(t){return""===t?null:+t}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function L(t,e,a,n){null===a?t.style.removeProperty(e):t.style.setProperty(e,a,n?"important":"")}function C(t,e,a){t.classList[a?"add":"remove"](e)}var A,H=new Map,z=0;function V(t,e,a,n,l,r,s,i=0){for(var o=16.666/n,c="{\n",d=0;d<=1;d+=o){var p=e+(a-e)*r(d);c+=100*d+"%{"+s(p,1-p)+"}\n"}var u=c+"100% {"+s(a,1-a)+"}\n}",g="__svelte_"+function(t){for(var e=5381,a=t.length;a--;)e=(e<<5)-e^t.charCodeAt(a);return e>>>0}(u)+"_"+i,v=m(t),{stylesheet:f,rules:b}=H.get(v)||function(t,e){var a={stylesheet:h(e),rules:{}};return H.set(t,a),a}(v,t);b[g]||(b[g]=!0,f.insertRule("@keyframes "+g+" "+u,f.cssRules.length));var w=t.style.animation||"";return t.style.animation=(w?w+", ":"")+g+" "+n+"ms linear "+l+"ms 1 both",z+=1,g}function B(t,e){var a=(t.style.animation||"").split(", "),n=a.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=a.length-n.length;l&&(t.style.animation=n.join(", "),(z-=l)||c((()=>{z||(H.forEach((t=>{for(var{stylesheet:e}=t,a=e.cssRules.length;a--;)e.deleteRule(a);t.rules={}})),H.clear())})))}function _(t){A=t}function S(t){(function(){if(!A)throw new Error("Function called outside component initialization");return A})().$$.on_mount.push(t)}var P=[],E=[],N=[],O=[],F=Promise.resolve(),I=!1;function q(t){N.push(t)}function j(t){O.push(t)}var D,R=new Set,W=0;function Z(){var t=A;do{for(;W<P.length;){var e=P[W];W++,_(e),G(e.$$)}for(_(null),P.length=0,W=0;E.length;)E.pop()();for(var a=0;a<N.length;a+=1){var n=N[a];R.has(n)||(R.add(n),n())}N.length=0}while(P.length);for(;O.length;)O.pop()();I=!1,R.clear(),_(t)}function G(t){if(null!==t.fragment){t.update(),l(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}function J(t,e,a){t.dispatchEvent(function(t,e,{bubbles:a=!1,cancelable:n=!1}={}){var l=document.createEvent("CustomEvent");return l.initCustomEvent(t,a,n,e),l}((e?"intro":"outro")+a))}var K,Q=new Set;function U(){K={r:0,c:[],p:K}}function X(){K.r||l(K.c),K=K.p}function Y(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function tt(t,e,a,n){if(t&&t.o){if(Q.has(t))return;Q.add(t),K.c.push((()=>{Q.delete(t),n&&(a&&t.d(1),n())})),t.o(e)}}var et={duration:0};function at(a,n,s,i){var u=n(a,s),m=i?0:1,h=null,g=null,v=null;function f(){v&&B(a,v)}function b(t,e){var a=t.b-m;return e*=Math.abs(a),{a:m,b:t.b,d:a,duration:e,start:t.start,end:t.start+e,group:t.group}}function w(n){var r,{delay:s=0,duration:i=300,easing:w=e,tick:y=t,css:x}=u||et,$={start:o()+s,b:n};n||($.group=K,K.r+=1),h||g?g=$:(x&&(f(),v=V(a,m,n,i,s,w,x)),n&&y(0,1),h=b($,i),q((()=>J(a,n,"start"))),r=t=>{if(g&&t>g.start&&(h=b(g,i),g=null,J(a,h.b,"start"),x&&(f(),v=V(a,m,h.b,h.duration,0,w,u.css))),h)if(t>=h.end)y(m=h.b,1-m),J(a,h.b,"end"),g||(h.b?f():--h.group.r||l(h.group.c)),h=null;else if(t>=h.start){var e=t-h.start;m=h.a+h.d*w(e/h.duration),y(m,1-m)}return!(!h&&!g)},0===d.size&&c(p),new Promise((t=>{d.add({c:r,f:t})})))}return{run(t){r(u)?(D||(D=Promise.resolve()).then((()=>{D=null})),D).then((()=>{u=u(),w(t)})):w(t)},end(){f(),h=g=null}}}function nt(t,e,a){var n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=a,a(t.$$.ctx[n]))}function lt(t){t&&t.c()}function rt(t,e,n,s){var{fragment:i,on_mount:o,on_destroy:c,after_update:d}=t.$$;i&&i.m(e,n),s||q((()=>{var e=o.map(a).filter(r);c?c.push(...e):l(e),t.$$.on_mount=[]})),d.forEach(q)}function st(t,e){var a=t.$$;null!==a.fragment&&(l(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(P.push(t),I||(I=!0,F.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,a,r,s,i,o,c,d=[-1]){var p=A;_(e);var u=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:a.target||p.$$.root};c&&c(u.root);var m=!1;if(u.ctx=r?r(e,a.props||{},((t,a,...n)=>{var l=n.length?n[0]:a;return u.ctx&&i(u.ctx[t],u.ctx[t]=l)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](l),m&&it(e,t)),a})):[],u.update(),m=!0,l(u.before_update),u.fragment=!!s&&s(u.ctx),a.target){if(a.hydrate){var h=function(t){return Array.from(t.childNodes)}(a.target);u.fragment&&u.fragment.l(h),h.forEach(v)}else u.fragment&&u.fragment.c();a.intro&&Y(e.$$.fragment),rt(e,a.target,a.anchor,a.customElement),Z()}_(p)}class ct{$destroy(){st(this,1),this.$destroy=t}$on(t,e){var a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{var t=a.indexOf(e);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt=()=>{location.hash=""},pt=t=>t[t.length-1]||"",ut=(t,e,a)=>{const n="__"+e+"__";n in t||(t[n]=[],t.addEventListener(e,(a=>{if("message"===e){const e=JSON.parse(a.data);t[n].forEach((t=>{t(e.cmd,e.data)}))}else t[n].forEach((t=>{t(a)}))}))),t[n].push(a)},mt=(t,e)=>{ut(t,"open",e)},ht=(t,e)=>{ut(t,"close",e)},gt=(t,e)=>{ut(t,"message",e)};function vt(t){let e,a,n,l,r,s=t[1][0]+"",i=t[1][1]+"";return{c(){e=b("small"),a=w(s),n=w("."),l=b("span"),r=w(i),$(e,"class","text-secondary me-2")},m(t,s){g(t,e,s),u(e,a),u(e,n),g(t,l,s),u(l,r)},p(t,e){2&e&&s!==(s=t[1][0]+"")&&T(a,s),2&e&&i!==(i=t[1][1]+"")&&T(r,i)},d(t){t&&v(e),t&&v(l)}}}function ft(e){let a,n,l,r,s,i,o,c,d,p,m,h,f=e[1]&&vt(e);return{c(){a=b("div"),n=b("div"),l=b("div"),r=b("div"),s=b("a"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-music-player-fill" viewBox="0 0 16 16"><path d="M8 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path><path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm1 2h6a1 1 0 0 1 1 1v2.5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm3 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"></path></svg>',i=b("div"),f&&f.c(),o=b("div"),c=b("div"),d=b("a"),d.innerHTML='<svg style="transform:scale(0.875)" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16"><path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path></svg>',p=b("a"),p.innerHTML='<svg style="transform:scale(0.75) translate(0, 0.125em)" xmlns="http://www.w3.org/2000/svg" width="25" height="20" fill="currentColor" class="bi bi-arrow-left-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"></path></svg>',m=b("a"),m.innerHTML='<svg style="transform:scale(0.75) rotate(45deg)" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrows-move" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"></path></svg>',h=b("a"),h.innerHTML='<svg style="transform:scale(1.125)" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path></svg>',$(s,"class","btn btn-sm p-0"),$(s,"href","#playerToggle"),$(s,"title","Toggle player"),C(s,"text-secondary",!e[0]),C(s,"text-light",e[0]),$(r,"class","col-auto align-self-center"),$(i,"class","small col text-truncate text-light align-self-center px-0"),$(d,"class","btn p-0 me-3 rounded-pill"),$(d,"href","#loopToggle"),$(d,"title","Toggle loop"),C(d,"btn-secondary",!e[2]),C(d,"btn-primary",e[2]),$(p,"class","btn p-0 me-3 rounded-pill"),$(p,"href","#randomToggle"),$(p,"title","Toggle random"),C(p,"btn-secondary",!e[3]),C(p,"btn-primary",e[3]),$(m,"class","btn p-0 me-3 rounded-pill"),$(m,"href","#fullscreenToggle"),$(m,"title","Toggle fullscreen"),C(m,"btn-secondary",!e[4]),C(m,"btn-primary",e[4]),$(h,"class","btn p-0 rounded-pill text-danger opacity-50"),$(h,"href","#modalMoreToggle"),$(h,"title","Open modal for details"),$(c,"class","btn-group btn-group-sm rounded-pill"),L(c,"background-color","#fff"),L(c,"border","2.5px solid #fff"),$(o,"class","col-auto align-self-center"),$(l,"class","row"),$(n,"class","container py-1"),$(a,"class","bg-primary")},m(t,e){g(t,a,e),u(a,n),u(n,l),u(l,r),u(r,s),u(l,i),f&&f.m(i,null),u(l,o),u(o,c),u(c,d),u(c,p),u(c,m),u(c,h)},p(t,[e]){1&e&&C(s,"text-secondary",!t[0]),1&e&&C(s,"text-light",t[0]),t[1]?f?f.p(t,e):(f=vt(t),f.c(),f.m(i,null)):f&&(f.d(1),f=null),4&e&&C(d,"btn-secondary",!t[2]),4&e&&C(d,"btn-primary",t[2]),8&e&&C(p,"btn-secondary",!t[3]),8&e&&C(p,"btn-primary",t[3]),16&e&&C(m,"btn-secondary",!t[4]),16&e&&C(m,"btn-primary",t[4])},i:t,o:t,d(t){t&&v(a),f&&f.d()}}}function bt(t,e,a){let{ws:n}=e,{api:l}=e,{send:r}=e,{playerToggle:s=!0}=e,{headerTitle:i}=e,o=!1,c=!1,d=!0;const p=(t,e)=>{if("playerStat"===t)a(2,o=e.loop),a(3,c=e.random),a(4,d=e.fullscreen)};return l.push((t=>{switch(t[0]){case"#loopToggle":a(2,o=!o),r("playerLoop"),dt();break;case"#randomToggle":a(3,c=!c),r("playerRandom"),dt();break;case"#fullscreenToggle":a(4,d=!d),r("playerFullscreen"),dt()}})),t.$$set=t=>{"ws"in t&&a(5,n=t.ws),"api"in t&&a(6,l=t.api),"send"in t&&a(7,r=t.send),"playerToggle"in t&&a(0,s=t.playerToggle),"headerTitle"in t&&a(1,i=t.headerTitle)},t.$$.update=()=>{32&t.$$.dirty&&n&&gt(n,p)},[s,i,o,c,d,n,l,r]}class wt extends ct{constructor(t){super(),ot(this,t,bt,ft,s,{ws:5,api:6,send:7,playerToggle:0,headerTitle:1})}}function yt(t){var e=t-1;return e*e*e+1}function xt(t,{delay:a=0,duration:n=400,easing:l=e}={}){var r=+getComputedStyle(t).opacity;return{delay:a,duration:n,easing:l,css:t=>"opacity: "+t*r}}function $t(t,{delay:e=0,duration:a=400,easing:n=yt}={}){var l=getComputedStyle(t),r=+l.opacity,s=parseFloat(l.height),i=parseFloat(l.paddingTop),o=parseFloat(l.paddingBottom),c=parseFloat(l.marginTop),d=parseFloat(l.marginBottom),p=parseFloat(l.borderTopWidth),u=parseFloat(l.borderBottomWidth);return{delay:e,duration:a,easing:n,css:t=>"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*s+"px;padding-top: "+t*i+"px;padding-bottom: "+t*o+"px;margin-top: "+t*c+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*p+"px;border-bottom-width: "+t*u+"px;"}}function Mt(t){let e,a,n,r,s,i,o,c,d,p,m,h,f,w,y,M,T,k,A,H,z,V,B,_,S,P,E,N,O,F,I,j;function D(t,e){return t[1]?kt:Tt}let R=D(t),W=R(t);return{c(){e=b("div"),a=b("div"),n=b("div"),r=b("div"),s=b("a"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" fill="currentColor" class="bi bi-skip-backward-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"></path></svg>',i=b("a"),W.c(),o=b("a"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" fill="currentColor" class="bi bi-skip-forward-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"></path></svg>',c=b("div"),d=b("div"),p=b("div"),m=b("div"),h=b("a"),h.innerHTML='<span style="line-height:1.725"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-volume-mute-fill" viewBox="0 0 16 16"><path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"></path></svg></span>',f=b("div"),w=b("div"),y=b("div"),M=b("input"),T=b("div"),k=b("input"),H=b("a"),H.innerHTML='<span style="line-height:1.725"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16"><path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"></path><path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"></path><path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"></path></svg></span>',z=b("div"),V=b("div"),B=b("div"),_=b("div"),S=b("div"),P=b("div"),E=b("input"),$(s,"class","btn rounded-circle p-0 text-primary"),$(s,"href","#playerPrev"),$(s,"title","Previous track"),$(i,"class","btn rounded-circle p-0 mx-1 text-primary"),$(i,"href","#playerPause"),$(i,"title","Play / pause"),$(o,"class","btn rounded-circle p-0 text-primary"),$(o,"href","#playerNext"),$(o,"title","Next track"),$(r,"class","col-auto pe-1"),$(h,"class","btn btn-primary rounded-circle p-0"),$(h,"href","#playerVolumeMin"),$(h,"title","Mute"),L(h,"width","2em"),L(h,"height","2em"),L(h,"transform","scale(0.875)"),$(M,"class","form-range"),$(M,"type","range"),M.value=t[2],$(k,"class","w-100 h-100 opacity-0"),L(k,"cursor","pointer"),$(k,"type","range"),$(k,"min","0"),$(k,"max","100"),$(k,"step","5"),$(k,"title",A=t[2]+"%"),$(T,"class","position-absolute w-100 h-100"),L(T,"top","-15%"),$(y,"class","position-absolute start-0 end-0"),L(y,"top","-0.125em"),$(w,"class","position-relative"),$(f,"class","form-control bg-transparent border-0 px-2"),$(H,"class","btn btn-primary rounded-circle p-0"),$(H,"href","#playerVolumeMax"),$(H,"title","Max volume"),L(H,"width","2em"),L(H,"height","2em"),L(H,"transform","scale(0.875)"),$(m,"class","input-group input-group-sm border bg-transparent rounded-pill"),$(p,"class","form-group w-100"),$(d,"class","d-flex w-100 h-100 align-items-center"),$(c,"class","col ps-0"),$(n,"class","row pt-1"),$(_,"class","progress-bar bg-danger progress-bar-striped"),L(_,"width",t[3]+"%"),$(_,"aria-valuemin","0"),$(_,"aria-valuemax","100"),$(_,"role","progressbar"),$(_,"aria-valuenow",t[3]),C(_,"progress-bar-animated",t[1]),C(_,"bg-secondary",!t[1]),C(_,"bg-danger",t[1]),$(B,"class","progress rounded-pill"),L(B,"height","1em"),$(E,"class","w-100 h-100 opacity-0"),L(E,"cursor","pointer"),$(E,"type","range"),$(E,"min","0"),$(E,"max","100"),$(E,"step","1"),$(E,"title",N=t[3]+"%"),$(P,"class","position-absolute start-0 end-0 top-0 bottom-0"),L(P,"height","1.5em"),$(S,"class","position-relative w-100"),L(S,"top","-150%"),$(V,"class","position-relative py-1 mt-1"),$(z,"class","row"),$(a,"class","container py-1"),$(e,"class","border-bottom")},m(l,v){g(l,e,v),u(e,a),u(a,n),u(n,r),u(r,s),u(r,i),W.m(i,null),u(r,o),u(n,c),u(c,d),u(d,p),u(p,m),u(m,h),u(m,f),u(f,w),u(w,y),u(y,M),u(y,T),u(T,k),u(m,H),u(a,z),u(z,V),u(V,B),u(B,_),u(V,S),u(S,P),u(P,E),F=!0,I||(j=[x(k,"input",t[4]),x(E,"input",t[5])],I=!0)},p(t,e){R!==(R=D(t))&&(W.d(1),W=R(t),W&&(W.c(),W.m(i,null))),(!F||4&e)&&(M.value=t[2]),(!F||4&e&&A!==(A=t[2]+"%"))&&$(k,"title",A),(!F||8&e)&&L(_,"width",t[3]+"%"),(!F||8&e)&&$(_,"aria-valuenow",t[3]),2&e&&C(_,"progress-bar-animated",t[1]),2&e&&C(_,"bg-secondary",!t[1]),2&e&&C(_,"bg-danger",t[1]),(!F||8&e&&N!==(N=t[3]+"%"))&&$(E,"title",N)},i(t){F||(q((()=>{O||(O=at(e,$t,{duration:250},!0)),O.run(1)})),F=!0)},o(t){O||(O=at(e,$t,{duration:250},!1)),O.run(0),F=!1},d(t){t&&v(e),W.d(),t&&O&&O.end(),I=!1,l(j)}}}function Tt(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" fill="currentColor" class="bi bi-play-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"></path></svg>'},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function kt(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" fill="currentColor" class="bi bi-pause-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"></path></svg>'},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function Lt(t){let e,a,n=t[0]&&Mt(t);return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),g(t,e,l),a=!0},p(t,[a]){t[0]?n?(n.p(t,a),1&a&&Y(n,1)):(n=Mt(t),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(U(),tt(n,1,1,(()=>{n=null})),X())},i(t){a||(Y(n),a=!0)},o(t){tt(n),a=!1},d(t){n&&n.d(t),t&&v(e)}}}function Ct(t,e,a){let{ws:n}=e,{api:l}=e,{send:r}=e,{playerToggle:s=!0}=e,i=!1,o=50;const c=t=>()=>{r("playerVolume",a(2,o=+t),!0)};let d=50;const p=(t,e)=>{if("playerStat"===t)a(1,i=e.play),a(2,o=e.volume),a(3,d=e.seek)};return l.push((t=>{switch(t[0]){case"#playerPrev":r("playerPrev"),dt();break;case"#playerPause":a(1,i=!i),r("playerPause"),dt();break;case"#playerNext":r("playerNext"),dt();break;case"#playerVolumeMin":c(0)(),dt();break;case"#playerVolumeMax":c(100)(),dt()}})),t.$$set=t=>{"ws"in t&&a(6,n=t.ws),"api"in t&&a(7,l=t.api),"send"in t&&a(8,r=t.send),"playerToggle"in t&&a(0,s=t.playerToggle)},t.$$.update=()=>{64&t.$$.dirty&&n&&gt(n,p)},[s,i,o,d,t=>{c(+t.target.value)()},t=>{const e=+t.target.value;r("playerSeek",a(3,d=e),!0)},n,l,r]}class At extends ct{constructor(t){super(),ot(this,t,Ct,Lt,s,{ws:6,api:7,send:8,playerToggle:0})}}function Ht(e){let a,n,l,r,s;return{c(){a=b("div"),n=b("div"),l=b("div"),r=b("a"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-music-note-list" viewBox="0 0 16 16"><path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"></path><path fill-rule="evenodd" d="M12 3v10h-1V3h1z"></path><path d="M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"></path><path fill-rule="evenodd" d="M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"></path></svg>',s=b("a"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-pc-display-horizontal" viewBox="0 0 16 16"><path d="M1.5 0A1.5 1.5 0 0 0 0 1.5v7A1.5 1.5 0 0 0 1.5 10H6v1H1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5v-1h4.5A1.5 1.5 0 0 0 16 8.5v-7A1.5 1.5 0 0 0 14.5 0h-13Zm0 1h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5ZM12 12.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Zm2 0a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0ZM1.5 12h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1ZM1 14.25a.25.25 0 0 1 .25-.25h5.5a.25.25 0 1 1 0 .5h-5.5a.25.25 0 0 1-.25-.25Z"></path></svg>',$(r,"class","btn"),$(r,"href","#showPlaylist"),$(r,"title","View current playlist"),C(r,"btn-secondary",0!==e[0]),C(r,"btn-primary",0===e[0]),$(s,"class","btn"),$(s,"href","#showLibrary"),$(s,"title","View media library"),C(s,"btn-secondary",1!==e[0]),C(s,"btn-primary",1===e[0]),$(l,"class","btn-group btn-group-sm w-100"),$(l,"role","group"),$(n,"class","container py-2"),$(a,"class","border-bottom")},m(t,e){g(t,a,e),u(a,n),u(n,l),u(l,r),u(l,s)},p(t,[e]){1&e&&C(r,"btn-secondary",0!==t[0]),1&e&&C(r,"btn-primary",0===t[0]),1&e&&C(s,"btn-secondary",1!==t[0]),1&e&&C(s,"btn-primary",1===t[0])},i:t,o:t,d(t){t&&v(a)}}}function zt(t,e,a){let{tabCurrent:n}=e;return t.$$set=t=>{"tabCurrent"in t&&a(0,n=t.tabCurrent)},[n]}class Vt extends ct{constructor(t){super(),ot(this,t,zt,Ht,s,{tabCurrent:0})}}function Bt(t,e,a){const n=t.slice();return n[12]=e[a],n[14]=a,n}function _t(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-play-circle" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"></path></svg>',$(e,"class","btn text-success")},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function St(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-record-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path></svg>',$(e,"class","btn text-success")},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function Pt(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-folder-plus" viewBox="0 0 16 16"><path d="m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"></path><path d="M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"></path></svg>',$(e,"class","btn text-success")},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function Et(t){let e,a,n,l,r,s,i,o,c,d,p,m,h,f=t[14]+1+"",y=(t[12].current&&t[1](t[14]+1,t[12].name),t[12].name+"");function x(t,e){return-1==+t[12].duration?Pt:t[12].current?St:_t}let M=x(t),k=M(t);return{c(){e=b("li"),a=b("div"),n=b("a"),k.c(),r=b("div"),s=b("small"),i=w(f),o=w("."),c=b("span"),d=w(y),p=b("a"),m=b("span"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg>',$(n,"class","col-auto p-1"),$(n,"href",l="#playlistPlayById::"+t[12].id),$(s,"class","text-secondary me-2"),$(c,"class","text-break"),$(r,"class","col lh-sm p-0"),L(r,"margin-bottom","-0.125em"),$(m,"class","btn text-danger"),$(p,"class","col-auto p-1"),$(p,"href",h="#playlistDeleteById::"+t[12].id+"::"+t[14]),$(a,"class","row align-items-center m-0"),$(e,"class","list-group-item list-group-item-action p-0"),C(e,"active",t[12].current)},m(t,l){g(t,e,l),u(e,a),u(a,n),k.m(n,null),u(a,r),u(r,s),u(s,i),u(s,o),u(r,c),u(c,d),u(a,p),u(p,m)},p(t,a){M!==(M=x(t))&&(k.d(1),k=M(t),k&&(k.c(),k.m(n,null))),10&a&&l!==(l="#playlistPlayById::"+t[12].id)&&$(n,"href",l),10&a&&y!==(t[12].current&&t[1](t[14]+1,t[12].name),y=t[12].name+"")&&T(d,y),10&a&&h!==(h="#playlistDeleteById::"+t[12].id+"::"+t[14])&&$(p,"href",h),10&a&&C(e,"active",t[12].current)},d(t){t&&v(e),k.d()}}}function Nt(t){let e,a=(t[1](0),t[3]),n=[];for(let l=0;l<a.length;l+=1)n[l]=Et(Bt(t,a,l));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=y()},m(t,a){for(let e=0;e<n.length;e+=1)n[e].m(t,a);g(t,e,a)},p(t,l){if(10&l){let r;for(t[1](0),a=t[3],r=0;r<a.length;r+=1){const s=Bt(t,a,r);n[r]?n[r].p(s,l):(n[r]=Et(s),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=a.length}},d(t){f(n,t),t&&v(e)}}}function Ot(e){let a,n,l,r=e[3],i=Nt(e);return{c(){a=b("div"),n=b("div"),l=b("ul"),i.c(),$(l,"class","list-group list-group-flush"),$(n,"class","position-absolute w-100 h-100"),L(n,"overflow-y","scroll"),L(n,"overflow-x","hidden"),$(a,"class","card position-absolute w-50 h-100 top-0 start-0 overflow-hidden"),C(a,"d-none",0!==e[0])},m(t,r){g(t,a,r),u(a,n),u(n,l),i.m(l,null),e[7](l)},p(t,[e]){8&e&&s(r,r=t[3])?(i.d(1),i=Nt(t),i.c(),i.m(l,null)):i.p(t,e),1&e&&C(a,"d-none",0!==t[0])},i:t,o:t,d(t){t&&v(a),i.d(t),e[7](null)}}}function Ft(t,e,a){let n,{ws:l}=e,{api:r}=e,{send:s}=e,{tabCurrent:i}=e,{setHeaderTitle:o}=e,c=!0,d=[];const p=()=>{c&&s("playlistGet")},u=()=>{c=!0},m=(t,e)=>{if("playlist"===t)a(3,d=e)};return r.push((t=>{switch(t[0]){case"#playlistPlayById":s("playlistPlayById",+t[1]);break;case"#playlistDeleteById":if(s("playlistDeleteById",+t[1]),n){const e=n.children[+t[2]];e&&e.classList.add("text-danger")}dt()}})),t.$$set=t=>{"ws"in t&&a(4,l=t.ws),"api"in t&&a(5,r=t.api),"send"in t&&a(6,s=t.send),"tabCurrent"in t&&a(0,i=t.tabCurrent),"setHeaderTitle"in t&&a(1,o=t.setHeaderTitle)},t.$$.update=()=>{16&t.$$.dirty&&l&&(mt(l,p),gt(l,m),ht(l,u))},[i,o,n,d,l,r,s,function(t){E[t?"unshift":"push"]((()=>{n=t,a(2,n)}))}]}class It extends ct{constructor(t){super(),ot(this,t,Ft,Ot,s,{ws:4,api:5,send:6,tabCurrent:0,setHeaderTitle:1})}}function qt(t,e,a){const n=t.slice();return n[11]=e[a],n[13]=a,n}function jt(t,e,a){const n=t.slice();return n[11]=e[a],n[13]=a,n}function Dt(t){let e,a,n,l,r=t[11]+"";return{c(){e=b("span"),e.textContent="/",a=b("a"),n=w(r),$(e,"class","p-1 text-secondary"),$(a,"class","p-2"),$(a,"href",l="#libraryPath::"+t[13])},m(t,l){g(t,e,l),g(t,a,l),u(a,n)},p(t,e){4&e&&r!==(r=t[11]+"")&&T(n,r)},d(t){t&&v(e),t&&v(a)}}}function Rt(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-file-earmark-text-fill" viewBox="0 0 16 16"><path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z"></path></svg>',$(e,"class","px-3")},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function Wt(t){let e;return{c(){e=b("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-folder-fill" viewBox="0 0 16 16"><path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"></path></svg>',$(e,"class","px-3")},m(t,a){g(t,e,a)},d(t){t&&v(e)}}}function Zt(t){let e,a,n,l,r,s,i,o,c,d=t[11].name+"";function p(t,e){return"d"===t[11].type?Wt:Rt}let m=p(t),h=m(t);return{c(){e=b("li"),a=b("div"),n=b("a"),h.c(),l=b("span"),r=w(d),i=b("a"),o=b("span"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"></path></svg>',$(l,"class","lh-sm text-break"),L(l,"margin-bottom","-0.125em"),$(n,"class","col d-flex align-items-center text-decoration-none py-1 ps-0 pe-0"),L(n,"color","inherit"),L(n,"cursor","d"===t[11].type?"pointer":"default"),$(n,"href",s="#libraryOpen::"+t[11].id+"::"+t[13]),$(o,"class","btn text-success"),$(i,"class","col-auto p-1"),$(i,"href",c="#libraryAppend::"+t[11].id+"::"+t[13]),$(a,"class","row align-items-center m-0"),$(e,"class","list-group-item list-group-item-action p-0")},m(t,s){g(t,e,s),u(e,a),u(a,n),h.m(n,null),u(n,l),u(l,r),u(a,i),u(i,o)},p(t,e){m!==(m=p(t))&&(h.d(1),h=m(t),h&&(h.c(),h.m(n,l))),4&e&&d!==(d=t[11].name+"")&&T(r,d),4&e&&L(n,"cursor","d"===t[11].type?"pointer":"default"),4&e&&s!==(s="#libraryOpen::"+t[11].id+"::"+t[13])&&$(n,"href",s),4&e&&c!==(c="#libraryAppend::"+t[11].id+"::"+t[13])&&$(i,"href",c)},d(t){t&&v(e),h.d()}}}function Gt(t){let e,a,n,l,r,s,i,o,c,d,p=pt(t[2].path)+"",m=t[2].path.slice(0,-1),h=[];for(let u=0;u<m.length;u+=1)h[u]=Dt(jt(t,m,u));let y=t[2].list,x=[];for(let u=0;u<y.length;u+=1)x[u]=Zt(qt(t,y,u));return{c(){e=b("div"),a=b("div"),n=b("a"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eject-fill" viewBox="0 0 16 16"><path d="M7.27 1.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H1.656C.78 9.5.326 8.455.926 7.816L7.27 1.047zM.5 11.5a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-13a1 1 0 0 1-1-1v-1z"></path></svg>';for(let t=0;t<h.length;t+=1)h[t].c();l=b("span"),r=b("span"),r.textContent="/",s=b("span"),i=w(p),o=b("div"),c=b("ul"),d=b("li"),d.innerHTML='<div class="row align-items-center m-0"><a class="col d-flex align-items-center text-decoration-none p-1 text-primary" href="#libraryBack"><span class="btn text-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-90deg-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z"></path></svg></span><span class="lh-sm text-secondary" style="margin-bottom:-0.125em">[ .. ]</span></a></div>';for(let t=0;t<x.length;t+=1)x[t].c();$(n,"class","p-2"),$(n,"href","#libraryPath::-1"),$(n,"title","Home"),$(r,"class","p-1 text-secondary"),$(s,"class","p-2"),$(a,"class","text-nowrap d-flex align-items-center px-2 py-1"),L(a,"margin-bottom","0.25em"),$(e,"class","position relative w-100 border-bottom"),L(e,"overflow-x","scroll"),L(e,"overflow-y","hidden"),C(e,"d-none",t[2].id<0),$(d,"class","list-group-item list-group-item-action p-0"),C(d,"d-none",t[2].id<0),$(c,"class","list-group list-group-flush"),$(o,"class","position-relative w-100 h-100"),L(o,"overflow-y","scroll"),L(o,"overflow-x","hidden")},m(p,m){g(p,e,m),u(e,a),u(a,n);for(let t=0;t<h.length;t+=1)h[t].m(a,null);u(a,l),u(l,r),u(l,s),u(s,i),g(p,o,m),u(o,c),u(c,d);for(let t=0;t<x.length;t+=1)x[t].m(c,null);t[6](c)},p(t,n){if(4&n){let e;for(m=t[2].path.slice(0,-1),e=0;e<m.length;e+=1){const r=jt(t,m,e);h[e]?h[e].p(r,n):(h[e]=Dt(r),h[e].c(),h[e].m(a,l))}for(;e<h.length;e+=1)h[e].d(1);h.length=m.length}if(4&n&&p!==(p=pt(t[2].path)+"")&&T(i,p),4&n&&C(e,"d-none",t[2].id<0),4&n&&C(d,"d-none",t[2].id<0),4&n){let e;for(y=t[2].list,e=0;e<y.length;e+=1){const a=qt(t,y,e);x[e]?x[e].p(a,n):(x[e]=Zt(a),x[e].c(),x[e].m(c,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=y.length}},d(a){a&&v(e),f(h,a),a&&v(o),f(x,a),t[6](null)}}}function Jt(e){let a,n=e[2],l=Gt(e);return{c(){a=b("div"),l.c(),$(a,"class","card position-absolute w-50 h-100 top-0 end-0 overflow-hidden d-flex flex-column"),C(a,"d-none",1!==e[0])},m(t,e){g(t,a,e),l.m(a,null)},p(t,[e]){4&e&&s(n,n=t[2])?(l.d(1),l=Gt(t),l.c(),l.m(a,null)):l.p(t,e),1&e&&C(a,"d-none",1!==t[0])},i:t,o:t,d(t){t&&v(a),l.d(t)}}}function Kt(t,e,a){let n,{ws:l}=e,{api:r}=e,{send:s}=e,{tabCurrent:i}=e,o=!0,c={id:-1,path:[],list:[]};const d=()=>{o&&s("library",{id:c.id,path:c.path})},p=()=>{o=!0},u=(t,e)=>{switch(t){case"library":a(2,c=e),o=!1;break;case"libraryChange":s("library",{id:c.id,path:c.path})}};return r.push((t=>{switch(t[0]){case"#libraryPath":s("library",{id:c.id,path:c.path.slice(0,+t[1]+1||0)}),dt();break;case"#libraryBack":s("library",{id:c.id,path:c.path.slice(0,-1)}),dt();break;case"#libraryOpen":{const e=+t[1],a=+t[2],n=c.list[a].name;"d"===c.list[a].type&&s("library",{id:e,path:[...c.path,n]}),dt();break}case"#libraryAppend":{const e=+t[1],a=+t[2],l=c.list[a].name;if(s("playerAppendFile",{id:e,path:[...c.path,l]}),n){const t=n.children[a+1];t&&t.classList.add("text-success")}break}}})),t.$$set=t=>{"ws"in t&&a(3,l=t.ws),"api"in t&&a(4,r=t.api),"send"in t&&a(5,s=t.send),"tabCurrent"in t&&a(0,i=t.tabCurrent)},t.$$.update=()=>{8&t.$$.dirty&&l&&(mt(l,d),gt(l,u),ht(l,p))},[i,n,c,l,r,s,function(t){E[t?"unshift":"push"]((()=>{n=t,a(1,n)}))}]}class Qt extends ct{constructor(t){super(),ot(this,t,Kt,Jt,s,{ws:3,api:4,send:5,tabCurrent:0})}}function Ut(t){let e,a,n,l,r,s,i,o,c,d,p;function m(t,e){return t[1]?Yt:Xt}let h=m(t),f=h(t);return{c(){e=b("div"),a=b("a"),n=b("div"),l=b("div"),r=b("div"),s=b("div"),i=b("div"),i.textContent="Адрес в сети:",f.c(),o=b("div"),o.innerHTML='<a class="btn btn-warning mb-3 text-uppercase" href="#playlistClear">Очистить плейлист</a><a class="btn btn-success mb-3 text-uppercase" href="#modalSettingsToggle">Открыть настройки</a><a class="btn btn-danger text-uppercase" href="#exit">Закрыть программу</a>',c=b("div"),c.innerHTML='<a class="btn btn-sm btn-info text-uppercase" href="#modalAboutToggle">О программе</a><a class="btn btn-sm btn-secondary text-uppercase" href="#modalMoreToggle">Отменить</a>',$(a,"class","position-absolute w-100 h-100"),$(a,"href","#modalMoreToggle"),$(i,"class","small"),$(r,"class","modal-header pt-2 pb-1"),$(o,"class","modal-body d-flex flex-column justify-content-between"),$(c,"class","modal-footer justify-content-between"),$(l,"class","modal-content"),$(n,"class","modal-dialog modal-dialog-centered modal-dialog-scrollable modal-sm"),$(e,"class","modal d-block"),$(e,"aria-modal","true"),$(e,"role","dialog"),L(e,"background-color","rgba(10,0,0,0.75)")},m(t,d){g(t,e,d),u(e,a),u(e,n),u(n,l),u(l,r),u(r,s),u(s,i),f.m(s,null),u(l,o),u(l,c),p=!0},p(t,e){h===(h=m(t))&&f?f.p(t,e):(f.d(1),f=h(t),f&&(f.c(),f.m(s,null)))},i(t){p||(q((()=>{d||(d=at(e,xt,{duration:250},!0)),d.run(1)})),p=!0)},o(t){d||(d=at(e,xt,{duration:250},!1)),d.run(0),p=!1},d(t){t&&v(e),f.d(),t&&d&&d.end()}}}function Xt(e){let a;return{c(){a=b("div"),a.textContent="РОУТЕР НЕ НАЙДЕН",$(a,"class","font-monospace")},m(t,e){g(t,a,e)},p:t,d(t){t&&v(a)}}}function Yt(t){let e,a,n,l;return{c(){e=b("div"),a=w("http://"),n=w(t[1]),l=w(t[2]),$(e,"class","font-monospace")},m(t,r){g(t,e,r),u(e,a),u(e,n),u(e,l)},p(t,e){2&e&&T(n,t[1]),4&e&&T(l,t[2])},d(t){t&&v(e)}}}function te(t){let e,a,n=t[0]&&Ut(t);return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),g(t,e,l),a=!0},p(t,[a]){t[0]?n?(n.p(t,a),1&a&&Y(n,1)):(n=Ut(t),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(U(),tt(n,1,1,(()=>{n=null})),X())},i(t){a||(Y(n),a=!0)},o(t){tt(n),a=!1},d(t){n&&n.d(t),t&&v(e)}}}function ee(t,e,a){let{ws:n}=e,{api:l}=e,{send:r}=e,{modalMoreToggle:s}=e,i="",o=+location.port;o=o&&80!==o?":"+o:"";const c=()=>{s&&r("routerGet")},d=(t,e)=>{if("router"===t)a(1,i=e)};return l.push((t=>{switch(t[0]){case"#playlistClear":a(0,s=!1),r("playlistClear"),dt();break;case"#exit":a(0,s=!1),r("exit"),dt()}})),t.$$set=t=>{"ws"in t&&a(3,n=t.ws),"api"in t&&a(4,l=t.api),"send"in t&&a(5,r=t.send),"modalMoreToggle"in t&&a(0,s=t.modalMoreToggle)},t.$$.update=()=>{33&t.$$.dirty&&s&&r("routerGet"),8&t.$$.dirty&&n&&(mt(n,c),gt(n,d))},[s,i,o,n,l,r]}class ae extends ct{constructor(t){super(),ot(this,t,ee,te,s,{ws:3,api:4,send:5,modalMoreToggle:0})}}var ne="rease <cftcview@gmail.com>";function le(e){let a,n,l,r,s,i,o,c,d,p,m,h,f,y,x,M,T,k,C,A,H,z,V,B;return{c(){a=b("div"),n=b("a"),l=b("div"),r=b("div"),s=b("div"),i=b("b"),i.textContent="О программе",o=b("div"),c=w("version: "),d=w("0.0.1"),p=b("br"),m=w("author: "),h=b("a"),f=w(ne),x=b("br"),M=w("homepage: "),T=b("a"),k=w("remote-media-control"),C=b("br"),A=w("license: "),H=w("MIT"),z=b("div"),z.innerHTML='<a class="btn btn-sm btn-secondary text-uppercase" href="#modalAboutToggle">Отменить</a>',$(n,"class","position-absolute w-100 h-100"),$(n,"href","#modalAboutToggle"),$(i,"class","fs-4"),$(h,"target","_blank"),$(h,"href",y="mailto:"+ne.split(/[<>]/)[1]),$(T,"target","_blank"),$(T,"href","https://github.com/wareset/remote-media-control#readme"),$(o,"class","font-monospace"),$(s,"class","modal-body text-center"),$(z,"class","modal-footer"),$(r,"class","modal-content"),$(l,"class","modal-dialog modal-dialog-centered modal-dialog-scrollable"),$(a,"class","modal d-block"),$(a,"aria-modal","true"),$(a,"role","dialog"),L(a,"background-color","rgba(0,0,10,0.75)")},m(t,e){g(t,a,e),u(a,n),u(a,l),u(l,r),u(r,s),u(s,i),u(s,o),u(o,c),u(o,d),u(o,p),u(o,m),u(o,h),u(h,f),u(o,x),u(o,M),u(o,T),u(T,k),u(o,C),u(o,A),u(o,H),u(r,z),B=!0},p:t,i(t){B||(q((()=>{V||(V=at(a,xt,{duration:250},!0)),V.run(1)})),B=!0)},o(t){V||(V=at(a,xt,{duration:250},!1)),V.run(0),B=!1},d(t){t&&v(a),t&&V&&V.end()}}}function re(t){let e,a,n=t[0]&&le();return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),g(t,e,l),a=!0},p(t,[a]){t[0]?n?(n.p(t,a),1&a&&Y(n,1)):(n=le(),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(U(),tt(n,1,1,(()=>{n=null})),X())},i(t){a||(Y(n),a=!0)},o(t){tt(n),a=!1},d(t){n&&n.d(t),t&&v(e)}}}function se(t,e,a){let{modalAboutToggle:n}=e;return t.$$set=t=>{"modalAboutToggle"in t&&a(0,n=t.modalAboutToggle)},[n]}class ie extends ct{constructor(t){super(),ot(this,t,se,re,s,{modalAboutToggle:0})}}function oe(t){let e,a,n,l,r,s;return{c(){e=b("div"),a=b("div"),n=b("pre"),l=w(t[1]),$(n,"class","alert"),L(n,"white-space","pre-wrap"),C(n,"alert-danger",!t[0]),C(n,"alert-success",t[0]),$(a,"class","container py-2"),$(e,"class","modal d-block h-auto"),$(e,"role","alert"),L(e,"top","2.5em")},m(t,r){g(t,e,r),u(e,a),u(a,n),u(n,l),s=!0},p(t,e){(!s||2&e)&&T(l,t[1]),1&e&&C(n,"alert-danger",!t[0]),1&e&&C(n,"alert-success",t[0])},i(t){s||(q((()=>{r||(r=at(e,xt,{duration:250},!0)),r.run(1)})),s=!0)},o(t){r||(r=at(e,xt,{duration:250},!1)),r.run(0),s=!1},d(t){t&&v(e),t&&r&&r.end()}}}function ce(t){let e,a,n=t[1]&&oe(t);return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),g(t,e,l),a=!0},p(t,[a]){t[1]?n?(n.p(t,a),2&a&&Y(n,1)):(n=oe(t),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(U(),tt(n,1,1,(()=>{n=null})),X())},i(t){a||(Y(n),a=!0)},o(t){tt(n),a=!1},d(t){n&&n.d(t),t&&v(e)}}}function de(t,e,a){let n,{ws:l}=e,r=!1,s="";const i=()=>{a(1,s="")},o=(t,e)=>{switch(t){case"messageSuccess":a(0,r=!0),a(1,s=e),clearTimeout(n),n=setTimeout(i,2500);break;case"messageError":a(0,r=!1),a(1,s=e),clearTimeout(n),n=setTimeout(i,2500)}};return t.$$set=t=>{"ws"in t&&a(2,l=t.ws)},t.$$.update=()=>{4&t.$$.dirty&&l&&gt(l,o)},[r,s,l]}class pe extends ct{constructor(t){super(),ot(this,t,de,ce,s,{ws:2})}}function ue(t){let e,a,n,l,r,s,i,o;function c(t,e){return 6&e&&(r=null),null==r&&(r=!(!t[2]&&!t[1]("settingsGet"))),r?he:me}let d=c(t,-1),p=d(t);return{c(){e=b("div"),a=b("div"),n=b("div"),l=b("div"),l.innerHTML='<b class="fs-5">Настройки конфигурации:</b>',p.c(),$(l,"class","modal-header pt-2 pb-1"),$(n,"class","modal-content"),$(a,"class","modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg2"),$(e,"class","modal d-block"),$(e,"aria-modal","true"),$(e,"role","dialog"),L(e,"background-color","rgba(0,10,0,0.75)")},m(t,r){g(t,e,r),u(e,a),u(a,n),u(n,l),p.m(n,null),o=!0},p(t,e){d===(d=c(t,e))&&p?p.p(t,e):(p.d(1),p=d(t),p&&(p.c(),p.m(n,null)))},i(t){o||(q((()=>{s||(s=at(a,xt,{duration:250},!0)),s.run(1)})),q((()=>{i||(i=at(e,xt,{duration:250},!0)),i.run(1)})),o=!0)},o(t){s||(s=at(a,xt,{duration:250},!1)),s.run(0),i||(i=at(e,xt,{duration:250},!1)),i.run(0),o=!1},d(t){t&&v(e),p.d(),t&&s&&s.end(),t&&i&&i.end()}}}function me(e){let a;return{c(){a=b("div"),a.innerHTML='<div class="spinner-grow text-danger" role="status"></div>',$(a,"class","modal-body d-flex align-items-center justify-content-center"),L(a,"height","100vh")},m(t,e){g(t,a,e)},p:t,d(t){t&&v(a)}}}function he(t){let e,a,n,r,s,i,o,c,d,p,m,h,f,w,T,C,A,H,z,V="vlc"===t[7]&&ge(t),B="mpv"===t[7]&&ve(t);return{c(){e=b("div"),a=b("form"),n=b("div"),r=b("div"),s=b("div"),i=b("input"),o=b("label"),o.textContent="Порт для запуска:",c=b("div"),c.innerHTML='<div>Например, указав 3000, ссылка будет:</div><div class="small"><mark>http://localhost:3000</mark></div><div>Если указать порт 80, то достаточно:</div><div class="small"><mark>http://localhost</mark></div><div class="small">При ошибке порт назначается автоматически</div>',d=b("hr"),V&&V.c(),p=y(),B&&B.c(),m=b("hr"),h=b("div"),f=b("div"),w=b("label"),w.textContent="Укажите каталоги, файлы, ярлыки:",T=b("textarea"),C=b("div"),C.innerHTML='<div>Пути можно указывать как &quot;абсолютно&quot;</div><div>так и &quot;относительно&quot; файла программы</div><div>В Linux и Mac разделитель только &quot;/&quot;</div><div>В Windows будет работать и &quot;\\&quot; и &quot;/&quot;</div><div>-</div><div>Примеры:</div><div class="small"><mark>C:\\music\\rhcp </mark><span>- абсолютный путь в Windows</span></div><div class="small"><mark>/home/user/best </mark><span>- абсолютный путь в Linux</span></div><div class="small"><mark>./kino/1.mp3 </mark><span>- относительный путь к файлу</span></div><div class="small"><mark>../../clips </mark><span>- это тоже относительный путь</span></div>',A=b("div"),A.innerHTML='<a class="btn btn-sm btn-success text-uppercase" href="#settingsSet">Сохранить</a><a class="btn btn-sm btn-secondary text-uppercase" href="#modalSettingsToggle">Отменить</a>',$(i,"class","form-control is-valid"),$(i,"id","settings-port"),$(i,"type","number"),$(i,"placeholder","80"),$(o,"class","text-nowrap"),$(o,"for","settings-port"),$(s,"class","form-floating"),$(r,"class","col"),$(n,"class","row"),$(c,"class","small pt-2 font-monospace text-muted"),$(w,"class","text-nowrap form-label"),$(w,"for","settings-library"),$(T,"class","form-control"),$(T,"id","settings-library"),$(T,"placeholder","C:/example/absolute/path\r\n../../example/relative/path"),L(T,"line-height","1.375"),L(T,"height",1.375*t[10]+"em"),$(C,"class","small py-2 font-monospace text-muted"),$(a,"class","text-break"),$(e,"class","modal-body"),$(A,"class","modal-footer p-1")},m(l,v){g(l,e,v),u(e,a),u(a,n),u(n,r),u(r,s),u(s,i),k(i,t[6]),u(s,o),u(a,c),u(a,d),V&&V.m(a,null),u(a,p),B&&B.m(a,null),u(a,m),u(a,h),u(h,f),u(f,w),u(f,T),k(T,t[5]),u(a,C),g(l,A,v),H||(z=[x(i,"input",t[15]),x(T,"input",t[18])],H=!0)},p(t,e){64&e&&M(i.value)!==t[6]&&k(i,t[6]),"vlc"===t[7]?V?V.p(t,e):(V=ge(t),V.c(),V.m(a,p)):V&&(V.d(1),V=null),"mpv"===t[7]?B?B.p(t,e):(B=ve(t),B.c(),B.m(a,m)):B&&(B.d(1),B=null),1024&e&&L(T,"height",1.375*t[10]+"em"),32&e&&k(T,t[5])},d(t){t&&v(e),V&&V.d(),B&&B.d(),t&&v(A),H=!1,l(z)}}}function ge(t){let e,a,n,r,s,i,o,c,d,p;return{c(){e=b("div"),e.innerHTML='<div class="small">Если VLC не установлен на компьютере, то:</div><div><span>ссылка на vlc: </span><a class="small" href="https://www.videolan.org" target="_blank">https://www.videolan.org</a></div>',a=b("div"),n=b("div"),r=b("div"),s=b("input"),i=b("label"),i.textContent='Команда/путь для запуска "vlc":',o=b("div"),o.innerHTML='<a class="btn h-100 d-flex align-items-center text-warning p-0" href="#settingsCheckVlc"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16"><path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path></svg></a>',c=b("div"),c.innerHTML='<div>В Windows, скорее всего, путь будет:</div><div class="small"><mark>C:\\Program Files\\VideoLAN\\VLC\\vlc.exe</mark></div><div>В Linux попробуйте ввести следующее:</div><div class="small"><mark>vlc</mark><span>, </span><mark>/usr/bin/vlc</mark><span>, </span><mark>/usr/local/bin/vlc</mark></div><div>В MacOS, возможно, путь будет таким:</div><div class="small"><mark>/Applications/VLC.app/Contents/MacOS/VLC</mark></div>',$(e,"class","small pb-2 font-monospace text-muted"),$(s,"class","form-control"),$(s,"id","settings-vlc"),$(s,"type","text"),$(s,"placeholder","vlc"),C(s,"is-invalid",!1===t[8]),C(s,"is-valid",!0===t[8]),$(i,"class","text-nowrap"),$(i,"for","settings-vlc"),$(r,"class","form-floating"),$(n,"class","col"),$(o,"class","col-auto ps-0"),$(a,"class","row"),$(c,"class","small pt-2 font-monospace text-muted")},m(l,m){g(l,e,m),g(l,a,m),u(a,n),u(n,r),u(r,s),k(s,t[3]),u(r,i),u(a,o),g(l,c,m),d||(p=[x(s,"change",t[11]),x(s,"input",t[16])],d=!0)},p(t,e){8&e&&s.value!==t[3]&&k(s,t[3]),256&e&&C(s,"is-invalid",!1===t[8]),256&e&&C(s,"is-valid",!0===t[8])},d(t){t&&v(e),t&&v(a),t&&v(c),d=!1,l(p)}}}function ve(t){let e,a,n,r,s,i,o,c,d,p;return{c(){e=b("div"),e.innerHTML='<div class="small">Если MPV не установлен на компьютере, то:</div><div><span>mpv: </span><a class="small" href="https://mpv.io/installation/" target="_blank">https://mpv.io/installation</a></div>',a=b("div"),n=b("div"),r=b("div"),s=b("input"),i=b("label"),i.textContent='Команда/путь для запуска "mpv":',o=b("div"),o.innerHTML='<a class="btn h-100 d-flex align-items-center text-warning p-0" href="#settingsCheckMpv"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16"><path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"></path><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"></path></svg></a>',c=b("div"),c.innerHTML='<div>В Windows нужен полный путь. Пример:</div><div class="small"><mark>C:\\Program Files\\mpv\\mpv.exe</mark></div><div>В Linux попробуйте ввести следующее:</div><div class="small"><mark>mpv</mark><span>, </span><mark>/usr/bin/mpv</mark><span>,  </span><mark>/usr/local/bin/mpv</mark></div><div>В MacOS, возможно, путь будет таким:</div><div class="small"><mark>/Applications/mpv.app/Contents/MacOS/mpv</mark></div>',$(e,"class","small pb-2 font-monospace text-muted"),$(s,"class","form-control"),$(s,"id","settings-mpv"),$(s,"type","text"),$(s,"placeholder","mpv"),C(s,"is-invalid",!1===t[9]),C(s,"is-valid",!0===t[9]),$(i,"class","text-nowrap"),$(i,"for","settings-mpv"),$(r,"class","form-floating"),$(n,"class","col"),$(o,"class","col-auto ps-0"),$(a,"class","row"),$(c,"class","small pt-2 font-monospace text-muted")},m(l,m){g(l,e,m),g(l,a,m),u(a,n),u(n,r),u(r,s),k(s,t[4]),u(r,i),u(a,o),g(l,c,m),d||(p=[x(s,"change",t[12]),x(s,"input",t[17])],d=!0)},p(t,e){16&e&&s.value!==t[4]&&k(s,t[4]),512&e&&C(s,"is-invalid",!1===t[9]),512&e&&C(s,"is-valid",!0===t[9])},d(t){t&&v(e),t&&v(a),t&&v(c),d=!1,l(p)}}}function fe(t){let e,a,n=t[0]&&ue(t);return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),g(t,e,l),a=!0},p(t,[a]){t[0]?n?(n.p(t,a),1&a&&Y(n,1)):(n=ue(t),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(U(),tt(n,1,1,(()=>{n=null})),X())},i(t){a||(Y(n),a=!0)},o(t){tt(n),a=!1},d(t){n&&n.d(t),t&&v(e)}}}function be(t,e,a){let n,l,r,s,i,o,c,d,{ws:p}=e,{api:u}=e,{send:m}=e,{modalSettingsToggle:h}=e,g=80;const v=()=>{h&&m("settingsGet")},f=()=>{a(2,l=null)},b=(t,e)=>{switch(t){case"settings":a(6,g=e.port),a(7,r=e.player),a(3,s=e.vlc),a(8,i=e.vlcIsValid),a(4,o=e.mpv),a(9,c=e.mpvIsValid),a(5,d=e.library.join("\r\n")),a(2,l=e);break;case"settingsCheckVlc":a(8,i=e);break;case"settingsCheckMpv":a(9,c=e)}},w=()=>{s?m("settingsCheckVlc",s):a(8,i=!1)},y=()=>{o?m("settingsCheckMpv",o):a(9,c=!1)};return u.push((t=>{switch(t[0]){case"#settingsCheckVlc":w(),dt();break;case"#settingsCheckMpv":y(),dt();break;case"#settingsSet":l&&h&&m("settingsSet",{port:g,player:r,vlc:s,mpv:o,library:d}),a(0,h=!1),dt()}})),t.$$set=t=>{"ws"in t&&a(13,p=t.ws),"api"in t&&a(14,u=t.api),"send"in t&&a(1,m=t.send),"modalSettingsToggle"in t&&a(0,h=t.modalSettingsToggle)},t.$$.update=()=>{1&t.$$.dirty&&a(2,l=null),12&t.$$.dirty&&l&&a(8,i=s===l.vlc?l.vlcIsValid:null),20&t.$$.dirty&&l&&a(9,c=o===l.mpv?l.mpvIsValid:null),32&t.$$.dirty&&a(10,n=(d&&d.split("\n").length||1)+2),8192&t.$$.dirty&&p&&(mt(p,v),ht(p,f),gt(p,b))},[h,m,l,s,o,d,g,r,i,c,n,w,y,p,u,function(){g=M(this.value),a(6,g)},function(){s=this.value,a(3,s)},function(){o=this.value,a(4,o)},function(){d=this.value,a(5,d)}]}class we extends ct{constructor(t){super(),ot(this,t,be,fe,s,{ws:13,api:14,send:1,modalSettingsToggle:0})}}function ye(t){let e,a,n;return{c(){e=b("div"),e.innerHTML='<div class="pb-3" style="transform:scale(2)"><div class="spinner-border text-danger" role="status"></div></div><b class="fs-3 text-danger">connection...</b>',$(e,"class","modal d-flex align-items-center justify-content-center flex-column"),L(e,"background-color","rgba(0,0,0,0.25)")},m(t,a){g(t,e,a),n=!0},i(t){n||(q((()=>{a||(a=at(e,xt,{duration:250},!0)),a.run(1)})),n=!0)},o(t){a||(a=at(e,xt,{duration:250},!1)),a.run(0),n=!1},d(t){t&&v(e),t&&a&&a.end()}}}function xe(t){let e,a,n,l,r,s,i,o,c,d,p,m,h,f,w,x,M,T;function k(e){t[11](e)}a=new wt({props:{ws:t[6],api:t[9],send:t[10],playerToggle:t[0],headerTitle:t[1]}}),l=new At({props:{ws:t[6],api:t[9],send:t[10],playerToggle:t[0]}}),r=new Vt({props:{tabCurrent:t[5]}}),c=new It({props:{ws:t[6],api:t[9],send:t[10],tabCurrent:t[5],setHeaderTitle:t[8]}}),d=new Qt({props:{ws:t[6],api:t[9],send:t[10],tabCurrent:t[5]}}),p=new pe({props:{ws:t[6]}});let C={ws:t[6],api:t[9],send:t[10]};function A(e){t[12](e)}void 0!==t[2]&&(C.modalMoreToggle=t[2]),m=new ae({props:C}),E.push((()=>nt(m,"modalMoreToggle",k))),f=new ie({props:{modalAboutToggle:t[3]}});let H={ws:t[6],api:t[9],send:t[10]};void 0!==t[4]&&(H.modalSettingsToggle=t[4]),w=new we({props:H}),E.push((()=>nt(w,"modalSettingsToggle",A)));let z=!t[7]&&ye();return{c(){e=b("div"),lt(a.$$.fragment),n=b("div"),lt(l.$$.fragment),lt(r.$$.fragment),s=b("div"),i=b("div"),o=b("div"),lt(c.$$.fragment),lt(d.$$.fragment),lt(p.$$.fragment),lt(m.$$.fragment),lt(f.$$.fragment),lt(w.$$.fragment),z&&z.c(),M=y(),$(o,"class","position-relative h-100"),L(o,"width","200%"),L(o,"transform","translate("+(1===t[5]?-50:0)+"%, 0)"),L(o,"transition","transform ease 0.25s"),$(i,"class","container h-100 overflow-hidden"),$(s,"class","w-100 h-100 py-2"),$(n,"class","d-flex flex-column w-100 h-100"),$(e,"class","d-flex flex-column position-absolute w-100 h-100 start-0 top-0")},m(t,h){g(t,e,h),rt(a,e,null),u(e,n),rt(l,n,null),rt(r,n,null),u(n,s),u(s,i),u(i,o),rt(c,o,null),rt(d,o,null),rt(p,t,h),rt(m,t,h),rt(f,t,h),rt(w,t,h),z&&z.m(t,h),g(t,M,h),T=!0},p(t,[e]){const n={};64&e&&(n.ws=t[6]),1&e&&(n.playerToggle=t[0]),2&e&&(n.headerTitle=t[1]),a.$set(n);const s={};64&e&&(s.ws=t[6]),1&e&&(s.playerToggle=t[0]),l.$set(s);const i={};32&e&&(i.tabCurrent=t[5]),r.$set(i);const u={};64&e&&(u.ws=t[6]),32&e&&(u.tabCurrent=t[5]),c.$set(u);const g={};64&e&&(g.ws=t[6]),32&e&&(g.tabCurrent=t[5]),d.$set(g),(!T||32&e)&&L(o,"transform","translate("+(1===t[5]?-50:0)+"%, 0)");const v={};64&e&&(v.ws=t[6]),p.$set(v);const b={};64&e&&(b.ws=t[6]),!h&&4&e&&(h=!0,b.modalMoreToggle=t[2],j((()=>h=!1))),m.$set(b);const y={};8&e&&(y.modalAboutToggle=t[3]),f.$set(y);const $={};64&e&&($.ws=t[6]),!x&&16&e&&(x=!0,$.modalSettingsToggle=t[4],j((()=>x=!1))),w.$set($),t[7]?z&&(U(),tt(z,1,1,(()=>{z=null})),X()):z?128&e&&Y(z,1):(z=ye(),z.c(),Y(z,1),z.m(M.parentNode,M))},i(t){T||(Y(a.$$.fragment,t),Y(l.$$.fragment,t),Y(r.$$.fragment,t),Y(c.$$.fragment,t),Y(d.$$.fragment,t),Y(p.$$.fragment,t),Y(m.$$.fragment,t),Y(f.$$.fragment,t),Y(w.$$.fragment,t),Y(z),T=!0)},o(t){tt(a.$$.fragment,t),tt(l.$$.fragment,t),tt(r.$$.fragment,t),tt(c.$$.fragment,t),tt(d.$$.fragment,t),tt(p.$$.fragment,t),tt(m.$$.fragment,t),tt(f.$$.fragment,t),tt(w.$$.fragment,t),tt(z),T=!1},d(t){t&&v(e),st(a),st(l),st(r),st(c),st(d),st(p,t),st(m,t),st(f,t),st(w,t),z&&z.d(t),t&&v(M)}}}function $e(t,e,a){let n,l=!0;let r=!1,s=!1,i=!1,o=1;const c=[t=>{switch(t[0]){case"#playerToggle":a(0,l=!l),dt();break;case"#modalMoreToggle":a(2,r=!r),dt();break;case"#modalAboutToggle":a(2,r=!1),a(3,s=!s),dt();break;case"#modalSettingsToggle":a(2,r=!1),a(4,i=!i),dt();break;case"#showPlaylist":a(5,o=0);break;case"#showLibrary":a(5,o=1)}}],d=()=>{const t=location.hash;if(t.length>1){const e=t.split("::");c.forEach((t=>t(e)))}};let p;d(),window.addEventListener("hashchange",d);let u=!1;const m=()=>{a(7,u=!1),a(6,p=new WebSocket("ws://"+location.host)),mt(p,(()=>{a(7,u=!0)})),ht(p,(()=>{a(7,u=!1),setTimeout(m,2500)})),ut(p,"error",(()=>{p.close()}))};return S(m),[l,n,r,s,i,o,p,u,(t,e)=>{a(1,n=e?[t,e]:null)},c,(t,e,a)=>{JSON.stringify({cmd:t,data:e}),u&&p.send(JSON.stringify({cmd:t,data:e}))},function(t){r=t,a(2,r)},function(t){i=t,a(4,i)}]}new class extends ct{constructor(t){super(),ot(this,t,$e,xe,s,{})}}({target:document.body})}();
